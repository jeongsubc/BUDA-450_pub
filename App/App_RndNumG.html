<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Appendix A — Random Number Generation – Business Data Mining and Visualization</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../App/App_RndSample.html" rel="next">
<link href="../references.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-8ef56b68f8fa1e9d2ba328e99e439f80.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-cf2cc817709c682caaf6ed8a4b3c4e57.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-4bc138239c1b330c89b939c9cfd75586.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../site_libs/bootstrap/bootstrap-cf2cc817709c682caaf6ed8a4b3c4e57.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../App/App_RndNumG.html">Appendices</a></li><li class="breadcrumb-item"><a href="../App/App_RndNumG.html"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Random Number Generation</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Business Data Mining and Visualization</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/jeongsubc/BUDA-450/tree/main/book/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome!</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Summary</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>Getting Started</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../GS/GS-Python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Python Preliminaries</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Python Fundamentals</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../BP/BP-IntroCoding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Data with Python</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../BD/BD-IntroDS.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data Science with Python</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Data Visualization</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../DV/DV-IntroVisual.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Introduction to Data Visualization</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Mining with Dependent Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../MD/MD-TimeSeries.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Time Series Mining</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../what-next.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">What Next?</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../App/App_RndNumG.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Random Number Generation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../App/App_RndSample.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Random Sample</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../App/App_ProbDist.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Probability Distribution</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview"><span class="header-section-number">A.1</span> Overview</a></li>
  <li><a href="#randomness-in-simulation" id="toc-randomness-in-simulation" class="nav-link" data-scroll-target="#randomness-in-simulation"><span class="header-section-number">A.2</span> Randomness in Simulation</a>
  <ul class="collapse">
  <li><a href="#why-do-we-use-randomness-in-simulations" id="toc-why-do-we-use-randomness-in-simulations" class="nav-link" data-scroll-target="#why-do-we-use-randomness-in-simulations"><span class="header-section-number">A.2.1</span> Why Do We Use Randomness in Simulations?</a></li>
  <li><a href="#how-are-random-numbers-used-in-simulations" id="toc-how-are-random-numbers-used-in-simulations" class="nav-link" data-scroll-target="#how-are-random-numbers-used-in-simulations"><span class="header-section-number">A.2.2</span> How Are Random Numbers Used in Simulations?</a></li>
  <li><a href="#are-these-numbers-truly-random" id="toc-are-these-numbers-truly-random" class="nav-link" data-scroll-target="#are-these-numbers-truly-random"><span class="header-section-number">A.2.3</span> Are These Numbers Truly Random?</a></li>
  </ul></li>
  <li><a href="#random-numbers" id="toc-random-numbers" class="nav-link" data-scroll-target="#random-numbers"><span class="header-section-number">A.3</span> Random Numbers</a>
  <ul class="collapse">
  <li><a href="#what-are-random-numbers" id="toc-what-are-random-numbers" class="nav-link" data-scroll-target="#what-are-random-numbers"><span class="header-section-number">A.3.1</span> What Are Random Numbers?</a></li>
  <li><a href="#key-properties-of-random-numbers" id="toc-key-properties-of-random-numbers" class="nav-link" data-scroll-target="#key-properties-of-random-numbers"><span class="header-section-number">A.3.2</span> Key Properties of Random Numbers</a></li>
  </ul></li>
  <li><a href="#random-number-generators" id="toc-random-number-generators" class="nav-link" data-scroll-target="#random-number-generators"><span class="header-section-number">A.4</span> Random Number Generators</a>
  <ul class="collapse">
  <li><a href="#what-is-an-lcg" id="toc-what-is-an-lcg" class="nav-link" data-scroll-target="#what-is-an-lcg"><span class="header-section-number">A.4.1</span> What is an LCG?</a></li>
  <li><a href="#how-does-it-work" id="toc-how-does-it-work" class="nav-link" data-scroll-target="#how-does-it-work"><span class="header-section-number">A.4.2</span> How Does It Work?</a></li>
  <li><a href="#key-parameters-in-lcgs" id="toc-key-parameters-in-lcgs" class="nav-link" data-scroll-target="#key-parameters-in-lcgs"><span class="header-section-number">A.4.3</span> Key Parameters in LCGs</a></li>
  <li><a href="#why-test-an-lcg" id="toc-why-test-an-lcg" class="nav-link" data-scroll-target="#why-test-an-lcg"><span class="header-section-number">A.4.4</span> Why Test an LCG?</a></li>
  <li><a href="#general-framework-for-random-number-generation" id="toc-general-framework-for-random-number-generation" class="nav-link" data-scroll-target="#general-framework-for-random-number-generation"><span class="header-section-number">A.4.5</span> General Framework for Random Number Generation</a></li>
  <li><a href="#other-rngs" id="toc-other-rngs" class="nav-link" data-scroll-target="#other-rngs"><span class="header-section-number">A.4.6</span> Other RNGs</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/jeongsubc/BUDA-450/edit/main/book/App/App_RndNumG.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/jeongsubc/BUDA-450/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li><li><a href="https://github.com/jeongsubc/BUDA-450/blob/main/book/App/App_RndNumG.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../App/App_RndNumG.html">Appendices</a></li><li class="breadcrumb-item"><a href="../App/App_RndNumG.html"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Random Number Generation</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Appendix A — Random Number Generation</h1>
<p class="subtitle lead">WVU BUDA 545</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="overview" class="level2" data-number="A.1">
<h2 data-number="A.1" class="anchored" data-anchor-id="overview"><span class="header-section-number">A.1</span> Overview</h2>
<p><a href="https://en.wikipedia.org/wiki/Random_number_generation"><em>Random Number Generation</em></a> <em>is a process by which, often by means of a random number generator (RNG), a sequence of numbers or symbols is generated that cannot be reasonably predicted better than by random chance</em>.</p>
<p>This session is designed to introduce you to the basic concept of random number generation that is used for (stochastic) simulation.</p>
<p>This session provides an overview of random number generation (RNG). It explains random numbers generated through algorithms, and their desired properties — independence and uniformity. Also, it discusses the importance of random number generators in simulations and outlines key properties. Algorithms for generation of pseudo-random numbers, including the Linear Congruential Generator (LCG), are introduced.</p>
<section id="related-readingreference" class="level5">
<h5 class="anchored" data-anchor-id="related-readingreference">Related Reading/Reference</h5>
<ul>
<li>Chapter 15.3 in Borshchev, A. and Grigoryev, I. The big book of simulation modeling: multimethod modeling with AnyLogic 8. <a href="https://www.anylogic.com/resources/books/big-book-of-simulation-modeling/" class="uri">https://www.anylogic.com/resources/books/big-book-of-simulation-modeling/</a></li>
<li>Chapter 1 in Robinson, S. (2014). Simulation: the practice of model development and use. Bloomsbury Publishing.</li>
</ul>
</section>
</section>
<section id="randomness-in-simulation" class="level2" data-number="A.2">
<h2 data-number="A.2" class="anchored" data-anchor-id="randomness-in-simulation"><span class="header-section-number">A.2</span> Randomness in Simulation</h2>
<p>Before diving into the details of random number generation, let’s first review why <em>randomness</em> is important in simulation modeling.</p>
<section id="why-do-we-use-randomness-in-simulations" class="level3" data-number="A.2.1">
<h3 data-number="A.2.1" class="anchored" data-anchor-id="why-do-we-use-randomness-in-simulations"><span class="header-section-number">A.2.1</span> Why Do We Use Randomness in Simulations?</h3>
<p>Many real-world systems involve uncertainty, meaning we cannot predict their outcomes with absolute certainty. Examples include:</p>
<ul>
<li><strong>Finance</strong>: Stock price movements are unpredictable.</li>
<li><strong>Supply</strong> Chain*: Customer demand fluctuates daily.</li>
<li><strong>Healthcare</strong>: Patient wait times vary based on arrival patterns.</li>
<li><strong>Manufacturing</strong>: Machines may experience random failures.</li>
</ul>
<p>To model and analyze these uncertainties from many possible inputs and the outcomes therefrom, we use stochastic methods, including Monte Carlo simulations, which rely on random numbers to mimic real-world <em>randomness</em>.</p>
<p>Since these models depend on random inputs, generating high-quality random numbers is crucial to ensure accurate and reliable results by analyzing situations.</p>
</section>
<section id="how-are-random-numbers-used-in-simulations" class="level3" data-number="A.2.2">
<h3 data-number="A.2.2" class="anchored" data-anchor-id="how-are-random-numbers-used-in-simulations"><span class="header-section-number">A.2.2</span> How Are Random Numbers Used in Simulations?</h3>
<p>Random numbers allow us to sample from probability distributions.</p>
<ul>
<li>In many applications, we don’t just need random numbers between 0 and 1 —– we need them to follow specific distributions, such as normal, exponential, or Poisson distributions.</li>
<li>Random numbers are first generated in the (0,1) range, then transformed to fit the required distribution for the simulation.</li>
</ul>
</section>
<section id="are-these-numbers-truly-random" class="level3" data-number="A.2.3">
<h3 data-number="A.2.3" class="anchored" data-anchor-id="are-these-numbers-truly-random"><span class="header-section-number">A.2.3</span> Are These Numbers Truly Random?</h3>
<p>Computers are deterministic—they follow instructions precisely. This means they cannot generate truly random numbers. Instead, they generate pseudo-random numbers, which are:</p>
<ul>
<li>Not truly random, but appear random.</li>
<li>Generated using mathematical formulas and initial seed values.</li>
<li>Replicable, meaning the same seed will always produce the same sequence of numbers.</li>
</ul>
<blockquote class="blockquote">
<p>“Anyone who considers arithmetical methods of producing random digits is, of course, in a state of sin.” — John von Neumann</p>
</blockquote>
<p>This means that using a deterministic process to generate randomness is fundamentally flawed, yet necessary for computational applications.</p>
</section>
</section>
<section id="random-numbers" class="level2" data-number="A.3">
<h2 data-number="A.3" class="anchored" data-anchor-id="random-numbers"><span class="header-section-number">A.3</span> Random Numbers</h2>
<section id="what-are-random-numbers" class="level3" data-number="A.3.1">
<h3 data-number="A.3.1" class="anchored" data-anchor-id="what-are-random-numbers"><span class="header-section-number">A.3.1</span> What Are Random Numbers?</h3>
<p>Let’s consider a sequence of <span class="math inline">\(N\)</span> random numbers as a set of numbers, denoted as:</p>
<p><span class="math display">\[ R_1, R_2, R_3, ..., R_N. \]</span></p>
<p>To be useful (considered as <em>random</em> numbers) in simulations, each number in the sequence is expected to exhibit certain properties.</p>
</section>
<section id="key-properties-of-random-numbers" class="level3" data-number="A.3.2">
<h3 data-number="A.3.2" class="anchored" data-anchor-id="key-properties-of-random-numbers"><span class="header-section-number">A.3.2</span> Key Properties of Random Numbers</h3>
<p>Two fundamental properties of a good random number sequence are indenpendence and uniformity:</p>
<ol type="1">
<li><strong>Independence</strong> – Each number in the sequence must be statistically independent from the previous numbers
<ul>
<li>The value of one number should not affect the next number. This means that knowing RiR_iRi gives no information about Ri+1R_{i+1}Ri+1.</li>
<li>Example: If we generate the number 0.32, the next number should be completely unrelated, not something like 0.33 or 0.31.</li>
</ul></li>
<li><strong>Uniformity</strong> – The numbers should be uniformly distributed over the interval <span class="math inline">\((0,1)\)</span>.
<ul>
<li>The numbers should be evenly distributed between 0 and 1. This means that every subinterval of equal length should have approximately the same count of numbers.
<ul>
<li>Over many trials, each sub-range within (0,1) should contain roughly the same proportion of numbers.</li>
</ul></li>
<li>Example: If we generate 1,000 random numbers and divide the range into 10 equal bins, each bin should contain approximately 100 numbers.</li>
<li>A truly uniform distribution ensures that the generated numbers cover the entire range without clustering or gaps.
<ul>
<li>✔ Uniform Distribution: Every interval gets an equal share of numbers.</li>
<li>✖ Non-Uniform Distribution: Some ranges get more numbers than others, causing bias.</li>
</ul></li>
</ul></li>
</ol>
<section id="what-happens-if-these-properties-are-violated" class="level4" data-number="A.3.2.1">
<h4 data-number="A.3.2.1" class="anchored" data-anchor-id="what-happens-if-these-properties-are-violated"><span class="header-section-number">A.3.2.1</span> What Happens If These Properties Are Violated?</h4>
<p>If a random number generator does not maintain these properties:</p>
<ul>
<li><strong>Lack of Independence</strong>: The numbers <em>follow a pattern</em>, making results predictable
<ul>
<li>If the numbers are not independent, patterns may emerge, leading to biased results in simulations.</li>
</ul></li>
<li><strong>Lack of Uniformity</strong>: Some numbers <em>occur more frequently</em> than others, biasing the simulation.</li>
</ul>
</section>
<section id="mathematical-representation" class="level4" data-number="A.3.2.2">
<h4 data-number="A.3.2.2" class="anchored" data-anchor-id="mathematical-representation"><span class="header-section-number">A.3.2.2</span> Mathematical Representation</h4>
<p>Mathematically, we say that a sequence of random numbers follows a <span class="math inline">\(\mathrm{Uniform}(0,1)\)</span> distribution:</p>
<p><span class="math display">\[
R_i ~ \sim ~ \mathrm{Uniform}(0,1) ~~~ \mathrm{for} ~ i=1,2,...,N
\]</span></p>
<p>This notation means that each number <span class="math inline">\(R_i\)</span> is drawn independently from a uniform distribution between 0 and 1, and</p>
</section>
<section id="why-are-these-properties-important" class="level4" data-number="A.3.2.3">
<h4 data-number="A.3.2.3" class="anchored" data-anchor-id="why-are-these-properties-important"><span class="header-section-number">A.3.2.3</span> Why Are These Properties Important?</h4>
<ul>
<li>Many simulations assume independent inputs<code>--—</code>if they are correlated, results may be inaccurate.</li>
<li>Transforming uniformly distributed numbers into other distributions (e.g., normal, exponential) requires them to be evenly spread over (0,1).</li>
<li>If random numbers fail to meet these properties, simulations may not reflect real-world randomness properly.</li>
</ul>
</section>
<section id="example" class="level4" data-number="A.3.2.4">
<h4 data-number="A.3.2.4" class="anchored" data-anchor-id="example"><span class="header-section-number">A.3.2.4</span> Example</h4>
<p>Here are two visualizations of 1000 random numbers generated by a library (<code>numpy</code>) in a popular programming language (<code>python</code>)<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>:</p>
<p>Scatter Plot (Independence Check) – This plot shows pairs of consecutive random numbers (<span class="math inline">\(R_i\)</span>, <span class="math inline">\(R_{i+1}\)</span>). If the numbers are truly independent, there should be no visible pattern in the scatter plot, just a random spread of points.</p>
<div id="2dde6c80" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate pseudo-random numbers to test independence and uniformity</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>num_samples <span class="op">=</span> <span class="dv">1000</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>random_numbers <span class="op">=</span> np.random.rand(num_samples)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 1: Scatter plot (Independence check)</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>, <span class="dv">5</span>))</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>plt.scatter(random_numbers[:<span class="op">-</span><span class="dv">1</span>], random_numbers[<span class="dv">1</span>:], alpha<span class="op">=</span><span class="fl">0.5</span>, color<span class="op">=</span><span class="st">'blue'</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Random Number R_i"</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Random Number R_(i+1)"</span>)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Independence Check: Scatter Plot"</span>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="App_RndNumG_files/figure-html/cell-2-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Histogram (Uniformity Check) – This histogram displays the frequency distribution of the generated random numbers. A well-behaved uniform distribution should result in a flat histogram, meaning the numbers are spread evenly across the interval <span class="math inline">\((0,1)\)</span>.</p>
<div id="63546d96" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 2: Histogram (Uniformity check)</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>, <span class="dv">5</span>))</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>plt.hist(random_numbers, bins<span class="op">=</span><span class="dv">20</span>, edgecolor<span class="op">=</span><span class="st">'black'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Random Number Value"</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Frequency"</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Uniformity Check: Histogram"</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="App_RndNumG_files/figure-html/cell-3-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>These visual checks help confirm that the generated numbers maintain independence and uniformity, two crucial properties for simulation modeling.</p>
</section>
</section>
</section>
<section id="random-number-generators" class="level2" data-number="A.4">
<h2 data-number="A.4" class="anchored" data-anchor-id="random-number-generators"><span class="header-section-number">A.4</span> Random Number Generators</h2>
<p>Let’s explore one of the the most well-known and widely-used pseudo-random number generators (PRNGs): the Linear Congruential Generator (LCG).</p>
<section id="what-is-an-lcg" class="level3" data-number="A.4.1">
<h3 data-number="A.4.1" class="anchored" data-anchor-id="what-is-an-lcg"><span class="header-section-number">A.4.1</span> What is an LCG?</h3>
<p>The <a href="https://en.wikipedia.org/wiki/Linear_congruential_generator">Linear Congruential Generator</a> (LCG) is a RNG for generating pseudo-random numbers using a mathematical recurrence relation.</p>
<p>This method is simple yet effective, which follows this recursive formula:</p>
<p><span class="math display">\[
X_i ~ =~(aX_{i−1}+c) ~ \mathrm{mod} ~ m
\]</span> where:</p>
<ul>
<li><span class="math inline">\(X_i\)</span> is the next number in the sequence.</li>
<li><span class="math inline">\(X_{i−1}\)</span> is the previous number (starting with a seed <span class="math inline">\(X_0\)</span>).</li>
<li><span class="math inline">\(a\)</span> is the multiplier (controls randomness spread, how numbers are spread).</li>
<li><span class="math inline">\(c\)</span> is the increment (optional, often <span class="math inline">\(0\)</span>).</li>
<li><span class="math inline">\(m\)</span> is the modulus (determines the upper bound, the range of generated numbers).</li>
</ul>
<p>The output random number (the final pseudo-random number) is then calculated as: <span class="math display">\[
U_i ~ = ~ \frac{X_i}{m}
\]</span> where <span class="math inline">\(U_i\)</span> is a uniform random number in the range <span class="math inline">\((0,1)\)</span>.</p>
</section>
<section id="how-does-it-work" class="level3" data-number="A.4.2">
<h3 data-number="A.4.2" class="anchored" data-anchor-id="how-does-it-work"><span class="header-section-number">A.4.2</span> How Does It Work?</h3>
<p>LCG can produce pseudo-random numbers through the following procedure and iteration:</p>
<ul>
<li>Step 1. Choose initial parameters: <span class="math inline">\(a\)</span>, <span class="math inline">\(c\)</span>, <span class="math inline">\(m\)</span>, and the seed <span class="math inline">\(X_0\)</span>.</li>
<li>Step 2. Generate the next value <span class="math inline">\(X_i\)</span> using the recursive formula.</li>
<li>Step 3. Scale the output by dividing by <span class="math inline">\(m\)</span> to obtain a number <span class="math inline">\(U_i\)</span> in the range (0,1).</li>
<li>Step 4. Repeat Steps 2 and 3, producing a sequence of pseudo-random numbers.</li>
</ul>
<p>It’s simple and easy to implement with only a few arithmetic operations, and so it’s very fast for generating sequences with reproducibility (i.e., given the same parameters and seed, the same sequence can be generated where the same calculations are performed).</p>
<section id="example-of-step-by-step-calculation" class="level4" data-number="A.4.2.1">
<h4 data-number="A.4.2.1" class="anchored" data-anchor-id="example-of-step-by-step-calculation"><span class="header-section-number">A.4.2.1</span> Example of Step-by-Step Calculation</h4>
<p>Let’s consider an LCG with the following parameters:</p>
<ul>
<li><span class="math inline">\(a ~ = ~ 123\)</span></li>
<li><span class="math inline">\(c ~ = ~ 4\)</span></li>
<li><span class="math inline">\(m ~ = ~ 56789\)</span></li>
<li><span class="math inline">\(X_0 ~ = ~ 1\)</span> (seed).</li>
</ul>
<p>Using the LCG formula: <span class="math display">\[
\begin{split}
&amp;X_1 ~ = ~ (123 \times 1 + 4) ~ \mathrm{mod} ~ 56789 = ~ 127 ~ \mathrm{mod} ~ 56789 = 127 \\
&amp;U_1 = \frac{127}{56789} = 0.002236 \\
&amp;X_2 ~ = ~ (123 \times 127 + 4) ~ \mathrm{mod} ~ 56789 = 15625 ~ \mathrm{mod} ~ 56789 = 15625 \\
&amp;U_2 = \frac{15625}{56789} = 0.275141 \\
&amp;\vdots
\end{split}
\]</span></p>
<p>We repeat this process to generate pseudo-random numbers in <code>python</code>.</p>
<div id="96e4d9f6" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Parameters for the LCG</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> <span class="dv">123</span>  <span class="co"># Multiplier</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>c <span class="op">=</span> <span class="dv">4</span>  <span class="co"># Increment</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> <span class="dv">5678</span>  <span class="co"># Modulus</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>X0 <span class="op">=</span> <span class="dv">1</span>  <span class="co"># Seed</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>num_samples <span class="op">=</span> <span class="dv">50</span>  <span class="co"># Number of random numbers to generate</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate the LCG sequence</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> [X0]</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(num_samples <span class="op">-</span> <span class="dv">1</span>):</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    X.append((a <span class="op">*</span> X[<span class="op">-</span><span class="dv">1</span>] <span class="op">+</span> c) <span class="op">%</span> m)</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Normalize to get U values in (0,1)</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>U <span class="op">=</span> [x <span class="op">/</span> m <span class="cf">for</span> x <span class="kw">in</span> X]</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the generated numbers</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">5</span>))</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>plt.plot(<span class="bu">range</span>(<span class="dv">1</span>, num_samples <span class="op">+</span> <span class="dv">1</span>), U, marker<span class="op">=</span><span class="st">'o'</span>, linestyle<span class="op">=</span><span class="st">'-'</span>, color<span class="op">=</span><span class="st">'b'</span>)</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Iteration"</span>)</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Generated Random Number (U)"</span>)</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Linear Congruential Generator (LCG) Output"</span>)</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>plt.ylim(<span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="App_RndNumG_files/figure-html/cell-4-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="example-in-excel" class="level4" data-number="A.4.2.2">
<h4 data-number="A.4.2.2" class="anchored" data-anchor-id="example-in-excel"><span class="header-section-number">A.4.2.2</span> Example in Excel</h4>
<p>Excel provides built-in random number functions, but we can manually implement an LCG using simple formulas. For the following example’s implementation on Excel, please check <a href="https://jeongsubc.github.io/BUDA-545/Mod_2-4_RNG_Ex.xlsx">this file - Mod_2-4_RNG_Ex.xlsx</a>.</p>
<ol type="1">
<li>Choose LCG parameters:
<ul>
<li>Let’s consider predetermined parameters:
<ul>
<li><code>a = 123</code></li>
<li><code>c = 4</code></li>
<li><code>m = 56789</code></li>
<li><code>X0 = 1</code></li>
</ul></li>
</ul></li>
<li>Set up columns in Excel:
<ul>
<li>Column F: Iteration number <code>i</code></li>
<li>Column G: the linear term <code>= a * X(i-1) + c</code></li>
<li>Column H: Xi (integer sequence) <code>= Q mod m</code></li>
<li>Column I: Ui (normalized random numbers) <code>= X(i) / m</code></li>
</ul></li>
<li>Drag the formulas down to generate multiple random numbers.</li>
</ol>
</section>
</section>
<section id="key-parameters-in-lcgs" class="level3" data-number="A.4.3">
<h3 data-number="A.4.3" class="anchored" data-anchor-id="key-parameters-in-lcgs"><span class="header-section-number">A.4.3</span> Key Parameters in LCGs</h3>
<p>To ensure the quality of the generated pseudo-random numbers, the following parameters of a LCG must be carefully selected:</p>
<ol type="1">
<li>Multiplier <span class="math inline">\(a\)</span>
<ul>
<li>Must be chosen to ensure a long cycle length.</li>
<li>A poor choice can result in short cycles or patterns in the output.</li>
</ul></li>
<li>Increment <span class="math inline">\(c\)</span>
<ul>
<li>If <span class="math inline">\(c=0\)</span>, the generator is called a multiplicative LCG (not recommended in some cases).</li>
<li>If <span class="math inline">\(c\neq0\)</span>, the generator is an additive LCG, which can avoid some weaknesses of the multiplicative version.</li>
</ul></li>
<li>Modulus <span class="math inline">\(m\)</span>
<ul>
<li>Determines the maximum range of numbers before repetition.</li>
<li>Commonly chosen as a large prime number or a power of 2 (e.g., <span class="math inline">\(2^32\)</span> or <span class="math inline">\(2^64\)</span>, considering the sake of processing in a 32-bit or 64-bit computer).</li>
</ul></li>
<li>Seed <span class="math inline">\(X_0\)</span>
<ul>
<li>The starting value—choosing a good seed ensures different runs generate different sequences.</li>
<li>If the same seed is used, the same sequence will be generated (which is useful for reproducibility).</li>
</ul></li>
</ol>
<section id="cycle-length-and-periodicity" class="level4" data-number="A.4.3.1">
<h4 data-number="A.4.3.1" class="anchored" data-anchor-id="cycle-length-and-periodicity"><span class="header-section-number">A.4.3.1</span> Cycle Length and Periodicity</h4>
<p>The period of an LCG is the number of numbers it generates before repeating.</p>
<ul>
<li>A full-period LCG generates all numbers from <span class="math inline">\(0\)</span> to <span class="math inline">\(m - 1\)</span> before repeating.</li>
<li>A poorly chosen <span class="math inline">\(a\)</span>, <span class="math inline">\(c\)</span>, or <span class="math inline">\(m\)</span> can result in very short cycles, reducing randomness quality.</li>
</ul>
<p>For example, the numbers generated in the example above with <span class="math inline">\(m = 9\)</span> shows repetition after just a few iterations instead of spanning the full range.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="How to Choose Good Parameters?">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
How to Choose Good Parameters?
</div>
</div>
<div class="callout-body-container callout-body">
<p>A good LCG follows the Hull-Dobell Theorem, which states that for an LCG to have a full period:</p>
<ul>
<li><span class="math inline">\(m\)</span> and <span class="math inline">\(c\)</span> must be relatively prime to (i.e., they have no common factors).</li>
<li><span class="math inline">\(a − 1\)</span> must be a multiple of all prime factors of <span class="math inline">\(m\)</span>.</li>
<li><span class="math inline">\(a − 1\)</span> must be a multiple of <span class="math inline">\(4\)</span> if <span class="math inline">\(m\)</span> is a power of <span class="math inline">\(2\)</span>.</li>
</ul>
<p>There have been many studies on good values for LCG parameters, and many modern systems use large prime values for <span class="math inline">\(m\)</span> to ensure long periods. A well organized list is available in <a href="https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use">Parameters in common use</a>.</p>
</div>
</div>
</section>
</section>
<section id="why-test-an-lcg" class="level3" data-number="A.4.4">
<h3 data-number="A.4.4" class="anchored" data-anchor-id="why-test-an-lcg"><span class="header-section-number">A.4.4</span> Why Test an LCG?</h3>
<p>To check the quality of an LCG (of course, other PRNGs too), we can apply some tests, because not all LCGs produce good random numbers. Some issues include:</p>
<ul>
<li>Short cycles – Numbers repeat too soon.</li>
<li>Lack of uniformity – Some values occur more often than others.</li>
<li>Correlation – Consecutive numbers may be related, reducing randomness.</li>
</ul>
<p>As defined earlier, statistical properties are those that can readily be tested to analyze the numbers.</p>
<section id="minimal-statistical-test-for-lcg-uniformity" class="level4" data-number="A.4.4.1">
<h4 data-number="A.4.4.1" class="anchored" data-anchor-id="minimal-statistical-test-for-lcg-uniformity"><span class="header-section-number">A.4.4.1</span> Minimal Statistical Test for LCG: Uniformity</h4>
<p>One simple way to test an LCG is to compute the sample mean of a set of generated numbers and compare it to the expected mean of a uniform distribution.</p>
<p>That is, we generate the random numbers to follow that fall into the range between 0 and 1, the theoretical mean of the uniform distribution is 0.5. If our LCG is good, the sample mean of the generated numbers should be close to 0.5.</p>
<p>Also, if the LCG is good, such sample means are expected to show stable around 0.5 for increasing sample sizes.</p>
<p>Similarly, the empirical distribution of generated random numbers should be uniformed distributed.</p>
<section id="example-testing-an-lcg-in-excel" class="level5">
<h5 class="anchored" data-anchor-id="example-testing-an-lcg-in-excel">Example: Testing an LCG in Excel</h5>
<p>You can perform this test in the Excel file<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> by:</p>
<ol type="1">
<li>Generating 1000 random numbers using an LCG.</li>
<li>Using the formula <code>=AVERAGE(I3:I1003)</code> to compute the sample mean.</li>
<li>Checking if the value is close to 0.5.</li>
</ol>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>For more advanced testing beyond uniformity, we can apply additional statistical randomness tests like:</p>
<ul>
<li>Chi-Square Goodness-of-Fit</li>
<li>Kolmogorov-Smirnov (KS) Test</li>
<li>Autocorrelation Test</li>
</ul>
</div>
</div>
</section>
</section>
</section>
<section id="general-framework-for-random-number-generation" class="level3" data-number="A.4.5">
<h3 data-number="A.4.5" class="anchored" data-anchor-id="general-framework-for-random-number-generation"><span class="header-section-number">A.4.5</span> General Framework for Random Number Generation</h3>
<p>Beyond LCGs, we can define a general framework for generating random numbers:</p>
<section id="general-procedure-for-random-number-generation" class="level4" data-number="A.4.5.1">
<h4 data-number="A.4.5.1" class="anchored" data-anchor-id="general-procedure-for-random-number-generation"><span class="header-section-number">A.4.5.1</span> General Procedure for Random Number Generation</h4>
<p>Most random number generation methods follow a three-step process:</p>
<ol type="1">
<li><strong>Step 0</strong>: Select User-Specified Parameters
<ul>
<li>Choose parameters such as seed values, modulus, lag sizes, etc.</li>
<li>Example: In LCGs, we select a,c,m,X0a, c, m, X_0a,c,m,X0.</li>
</ul></li>
<li><strong>Step 1</strong>: Generate a Sequence of Values
<ul>
<li>This step follows a recurrence relation or transformation function.</li>
<li>Example: LCGs use: <span class="math inline">\(X_i = (aX_{i-1} + c) ~ \mathrm{mod} ~ m\)</span></li>
</ul></li>
<li><strong>Step 2</strong>: Transform to Desired Distribution and Return values based on an output function.
<ul>
<li>Most applications require numbers from specific probability distributions (e.g., normal, exponential, Poisson).</li>
<li>We apply a function <span class="math inline">\(g(X)\)</span> to transform uniform <span class="math inline">\((0,1)\)</span> random numbers into the desired distribution.</li>
<li>Example: In LCGs, we use <span class="math inline">\(g(X) = \frac{X_i}{m}\)</span></li>
</ul></li>
</ol>
<section id="mathematical-representation-1" class="level5">
<h5 class="anchored" data-anchor-id="mathematical-representation-1">Mathematical Representation</h5>
<p>The general random number generation framework can be expressed as: <span class="math display">\[
\begin{split}
&amp;X_i = f_i(X_{i-r}, X_{i-r+1}, ..., X_{i-1}) \quad \text{for} \quad r \geq 1 \\
&amp;U_i = g(X_i)
\end{split}
\]</span></p>
<p>where: * <span class="math inline">\(f_i\)</span> is the function generating the sequence. * <span class="math inline">\(g(X)\)</span> transforms the sequence into a desired distribution.</p>
<!-- 
Expected Visualization: Transforming Uniform (0,1) to Other Distributions
The figure contains three histograms:
1.  Uniform Distribution (0,1)
o   This shows a flat histogram, meaning all numbers between 0 and 1 are equally likely.
o   This is the starting point for all transformations.
2.  Normal Distribution (Generated via Box-Muller Transform)
o   The histogram forms a bell-shaped curve, similar to the standard normal distribution.
o   The red line shows the theoretical normal probability density function (PDF).
3.  Exponential Distribution (Using −ln⁡(U)-\ln(U)−ln(U))
o   The histogram shows an exponential decay, meaning smaller values occur more frequently than larger values.
o   The red line shows the theoretical exponential PDF.

Key Takeaways
✔ Uniform random numbers can be transformed into other distributions.
✔ Box-Muller Transform generates normally distributed values from uniform values.
✔ Negative log transformation generates exponentially distributed values.
-->
</section>
</section>
</section>
<section id="other-rngs" class="level3" data-number="A.4.6">
<h3 data-number="A.4.6" class="anchored" data-anchor-id="other-rngs"><span class="header-section-number">A.4.6</span> Other RNGs</h3>
<p>We have primarily focused on LCGs, but there are many other methods for generating pseudo-random numbers. Let’s explore a few of them.</p>
<ol type="1">
<li><p>Fibonacci Generators, <span class="math inline">\(X_i = (X_{i-p} + X_{i-q}) \mod m\)</span></p>
<ul>
<li>Sum of previous two numbers, which was inspired by the Fibonacci sequence.</li>
<li>Better randomness and longer periods than basic LCGs, but still has periodic issues.</li>
<li>Still not as good as modern generators.</li>
<li>Used for older simulations where longer cycles were needed.</li>
</ul></li>
<li><p>Recursive Generators, <span class="math inline">\(X_i = a_1 X_{i-1} + a_2 X_{i-2} + ... + a_r X_{i-r} \mod m\)</span></p>
<ul>
<li>Depend on prior values</li>
<li>Uses multiple previous values to compute the next random number:</li>
<li>Helps reduce correlation compared to simple LCGs.</li>
<li>Used in early numerical simulations.</li>
<li>More complex but provides better randomness than standard LCGs.</li>
</ul></li>
<li><p>Nonlinear Generators, e.g., <span class="math inline">\(X_i = aX_{i-1}^2 + bX_{i-1} + c \mod m\)</span></p>
<ul>
<li>More complex transformations</li>
<li>Unlike LCGs, these avoid linear relationships</li>
<li>Better randomness properties.</li>
<li>Harder to implement and requires more computational power.</li>
<li>Useful for applications needing higher quality randomness, such as security.</li>
<li>Helps remove linear correlations.</li>
</ul></li>
<li><p>Combined Generators</p>
<ul>
<li>Mix different methods for better randomness</li>
<li>Mixes multiple RNGs to produce better sequences.</li>
<li>Example: Combining two LCGs to eliminate periodicity.</li>
<li>Used in modern high-quality random number generation.</li>
<li>Provides longer periods and better independence.</li>
</ul></li>
<li><p>Mersenne Twister (MT19937) – The Industry Standard</p>
<ul>
<li>One of the most widely used modern PRNGs.</li>
<li>Features:
<ul>
<li>Extremely long period, <span class="math inline">\(2^{19937}-1\)</span> (hence the name).</li>
<li>Fast generation of random numbers.</li>
<li>Better randomness properties than LCGs.</li>
</ul></li>
<li>Used in many software, including Python’s random module, Excel’s RAND() function, and many statistical simulations</li>
<li>The preferred choice for most non-cryptographic applications.</li>
</ul></li>
</ol>


</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>In some of the following examples, python was used just for the sake of documentation, although we don’t use it in the main materials of our course.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>You may try it with different parameters.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../references.html" class="pagination-link" aria-label="References">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">References</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../App/App_RndSample.html" class="pagination-link" aria-label="Random Sample">
        <span class="nav-page-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Random Sample</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Written by <a href="https://jeongsubc.github.io/">Jeongsub Choi</a></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/jeongsubc/BUDA-450/edit/main/book/App/App_RndNumG.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/jeongsubc/BUDA-450/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li><li><a href="https://github.com/jeongsubc/BUDA-450/blob/main/book/App/App_RndNumG.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>Documented with <a href="https://quarto.org/">Quarto</a></p>
</div>
  </div>
</footer>




</body></html>